<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" ng-app="mainModule">
<head>

</head>
<body>
<div ng-controller="mainController">
    <div class="signin-wrapper">
        <form name="signinForm" class="form-signin" th:action="@{/login}" method="post" novalidate>
            <h4 class="form-signin-heading">Login or <a href="/signup">sign up</a></h4>

            <div class="form-group"
                 ng-class="{ 'has-error' : signinForm.email.$invalid && !signinForm.email.$pristine }">
                <input type="email" class="form-control" name="email" ng-model="user.email" placeholder="Email Address"
                       autofocus="" required/>

                <p ng-show="signinForm.email.$invalid && signinForm.email.$dirty" class="text-danger">Enter a valid
                    email</p>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : signinForm.password.$invalid && !signinForm.password.$pristine }">
                <input type="password" class="form-control" name="password" ng-model="user.password"
                       placeholder="Password" required/>
                <p ng-show="signinForm.password.$invalid && signinForm.password.$dirty"  class="text-danger">You must
                    enter a password</p>
                <div class="help-block" th:if="${param.logout}">
                    <p ng-show="signinForm.password.$pristine && signinForm.email.$pristine" class="text-danger">You have been logged out.</p>
                </div>
                <div class="help-block" th:if="${param.error}">
                    <p ng-show="signinForm.password.$pristine && signinForm.email.$pristine" class="text-danger">Either your username or password is incorrect.</p>
                </div>
            </div>
            <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="signinForm.$invalid">Login
            </button>
        </form>
    </div>
</div>

<div th:include="partials/_angular :: angular"></div>

</body>
</html>

